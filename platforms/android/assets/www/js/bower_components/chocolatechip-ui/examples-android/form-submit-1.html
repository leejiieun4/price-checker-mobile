<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="msapplication-tap-highlight" content="no">
	<title>Form To JSON Submission</title>
	<link rel="stylesheet" href="../chui/chui.android-3.0.4.css">
	<script src="../chui/chocolatechip-3.0.4.js"></script>
	<script src="../chui/chui-3.0.4.js"></script>
   <script>
      function submitForm() {
         var formData = $.form2JSON('#userForm');
         var data = JSON.stringify(formData);
         window.location = "form-target.html?" + data;
      }
      $(function() {
		   $(".done").on("click", function() {
		        $("#userForm")[0].submit();
		   });
      });      
   </script>
</head>
<body>
	<nav>
		<h1>New User</h1>
		<a href='javascript:void(null)' class='button done align-flush'>Done</a>
	</nav>
	<article class='current'>
		<section>
		  <form id="userForm" action="javascript:submitForm()">
			<h2>Personal Info</h2>
			<ul class='list'>
				<li class='comp'>
					<div>
						<h3>First name:</h3>
					</div>
					<aside>
						<input type="text" name="user.name.first">
					</aside>
				 </li>
				 <li class='comp'>
					<div>
					  	<h3>Last name:</h3>
					</div>
					<aside>
						<input type="text" name="user.name.last">
					</>
				 </li>
				 <li class='comp'>
					<div>
					  <h3>Phone:</h3>
					</div>
					<aside>
						<input type="text" name="user.phone">
					</aside>
				 </li>
				 <li class='comp'>
					<div>
					  <h3>Email:</h3>
					</div>
					<aside>
					  <input type="email" name="user.email">
					</aside>
				 </li>
			</ul>
			<h2>Favorite food</h2>
			<ul class='list'>
				<li class='comp'>
					<div>
						<h3>Salad:</h3>
					</div>
					<aside>
						<input type="checkbox" name="user.favoriteFood[]" value="salad">
					</aside>
				</li>
				<li class='comp'>
					<div>
						<h3>Pizza:</h3>
					</div>
					<aside>
						<input type="checkbox" name="user.favoriteFood[]" value="pizza">
					</aside>
				</li>
				<li class='comp'>
					<div>
						<h3>Chicken:</h3>
					</div>
					<aside>
						<input type="checkbox" name="user.favoriteFood[]" value="chicken">
					</aside>
				 </li>
				</ul>
				<h2>Feedback</h2>
				<ul class='list'>
					<li class='comp'>
						<div>
							<h3>Message:</h3>
						</div>
						<aside>
							<input type="text" name="user.message">
						</aside>
					</li>
				</ul>
				<h2>Job</h2>
				<ul class='list' id='selectList'>
					<li class='comp'>
						<div>
							<h3>Web developer</h3>
						</div>
						<aside>
							<input checked name="user.job" value="Web developer" type="radio">
						</aside>
					</li>
					<li class='comp'>
						<div>
							<h3>Rocket scientist</h3>
						</div>
						<aside>
							<input name="user.job" value="Rocket scientist" type="radio">
						</aside>
					</li>
					<li class='comp'>
						<div>
							<h3>Cook</h3>
						</div>
						<aside>
							<input name="user.job" value="Cook" type="radio">
						</aside>
					</li>
					<li class='comp'>
						<div>
							<h3>Banker</h3>
						</div>
						<aside>
							<input name="user.job" value="Banker" type="radio">
						</aside>
					</li>
					<li class='comp'>
						<div>
							<h3>Janitor</h3>
						</div>
						<aside>
							<input name="user.job" value="Janitor" type="radio">
						</aside>
					</li>
				</ul>
			</form>
		</section>
	</article>
</body>
</html>